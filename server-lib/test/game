<!DOCTYPE HTML>
<html>


  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Expires" content="Thu, 01 Dec 1994 16:00:00 GMT">
    <title>将棋ウォーズ棋譜(Rettosei5級対sunaemon02級)</title>
    <link rel="stylesheet" href="/stylesheets/games.css" />
    <link rel="stylesheet" href="/stylesheets/games-pc-s.css" />
    <link rel="stylesheet" href="/stylesheets/games-pc-375.css" media="only screen and (min-width: 375px) and (min-height: 447px)" />
    <link rel="stylesheet" href="/stylesheets/games-pc-414.css" media="only screen and (min-width: 414px) and (min-height: 494px)" />
    <link rel="stylesheet" href="/stylesheets/games-pc.css" media="only screen and (min-width: 480px) and (min-height: 573px)" />
    <link rel="stylesheet" href="/stylesheets/games-pc-600.css" media="only screen and (min-width: 600px) and (min-height: 716px)" />
    <link rel="stylesheet" href="/stylesheets/games-pc-768.css" media="only screen and (min-width: 768px) and (min-height: 916px)" />
    <link rel="stylesheet" href="/stylesheets/games-pc-800.css" media="only screen and (min-width: 800px) and (min-height: 955px)" />
  </head>
 <script src="/javascripts/localize.js"></script>
 <script>
     //locale情報 設定
     Localize.setLocale("ja");
     Localize.setImgURL("//image-pona.heroz.jp");
 </script>
<body>
  <div id="header">
    <span id="logo_area">
      <img src="//image-pona.heroz.jp/kif/icon64.png" width="22" height="22" alt="将棋ウォーズ" style="float:left;" class="wars_logo">
    </span>
    <div id="audience">
    </div>
    <div id="tweetbutton">
      <a href="https://twitter.com/share" class="twitter-share-button" data-lang="ja" data-url="https://kif-pona.heroz.jp/games/Rettosei-sunaemon0-20170324_111157?tw=1" data-hashtags="shogiwars">ツイート</a>
    </div>
    <br clear="all">
  </div>
  <div id="chance_bar" class="hidden">
    <span id="score_gote">後手</span>
    <span style="width:70%;display:inline-block;"><div id="chance_gote">&nbsp;
        <span></span></div><div id="chance_sente">&nbsp;
        <span></span></div></span>
    <span id="score_sente">先手</span>
  </div>

  <div id="shogi" style="position:relative;">
    <table id="display-table">
      <tbody>
        <tr>
          <td>
            <!-- 後手情報 -->
            <div id="area_gote"></div>
          </td>
        </tr>
        <tr>
          <td id="area-main">
            <table id="area-board">
              <tbody>
                <tr>
                  <!-- 盤面左 -->
                  <td id="white-stand-board">
                    <table class="stand-table">
                      <tbody>
                        <tr>
                          <td id="avatar-gote" class="stand-koma"></td>
                        </tr>
                        <tr>
                          <td class="koma stand-koma"></td>
                        </tr>
                        <tr>
                          <td class="koma stand-koma"></td>
                        </tr>
                        <tr>
                          <td class="koma stand-koma"></td>
                        </tr>
                        <tr>
                          <td class="koma stand-koma"></td>
                        </tr>
                        <tr>
                          <td class="koma stand-koma"></td>
                        </tr>
                        <tr>
                          <td class="koma stand-koma"></td>
                        </tr>
                        <tr>
                          <td class="koma stand-koma"></td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                  <!-- 盤面 -->
                  <td id="main-board">
                    <table id="board-table">
                      <tbody>
                        <tr>
                          <th class="board-side"></th>
                          <th class="koma-header">9</th>
                          <th class="koma-header">8</th>
                          <th class="koma-header">7</th>
                          <th class="koma-header">6</th>
                          <th class="koma-header">5</th>
                          <th class="koma-header">4</th>
                          <th class="koma-header">3</th>
                          <th class="koma-header">2</th>
                          <th class="koma-header">1</th>
                          <th class="board-side"></th>
                        </tr>
                        <tr>
                          <th class="board-side"></th>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <th class="board-side">一</th>
                        </tr>
                        <tr>
                          <th class="board-side"></th>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <th class="board-side">二</th>
                        </tr>
                        <tr>
                          <th class="board-side"></th>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <th class="board-side">三</th>
                        </tr>
                        <tr>
                          <th class="board-side"></th>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <th class="board-side">四</th>
                        </tr>
                        <tr>
                          <th class="board-side"></th>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <th class="board-side">五</th>
                        </tr>
                        <tr>
                          <th class="board-side"></th>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <th class="board-side">六</th>
                        </tr>
                        <tr>
                          <th class="board-side"></th>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <th class="board-side">七</th>
                        </tr>
                        <tr>
                          <th class="board-side"></th>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <th class="board-side">八</th>
                        </tr>
                        <tr>
                          <th class="board-side"></th>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <td class="koma board-koma"></td>
                          <th class="board-side">九</th>
                        </tr>
                        <tr>
                          <th class="board-side"></th>
                          <th class="koma-footer"></th>
                          <th class="koma-footer"></th>
                          <th class="koma-footer"></th>
                          <th class="koma-footer"></th>
                          <th class="koma-footer"></th>
                          <th class="koma-footer"></th>
                          <th class="koma-footer"></th>
                          <th class="koma-footer"></th>
                          <th class="koma-footer"></th>
                          <th class="board-side"></th>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                  <!-- 盤面右 -->
                  <td id="black-stand-board">
                    <table class="stand-table">
                      <tbody>
                        <tr>
                          <td class="koma stand-koma"></td>
                        </tr>
                        <tr>
                          <td class="koma stand-koma"></td>
                        </tr>
                        <tr>
                          <td class="koma stand-koma"></td>
                        </tr>
                        <tr>
                          <td class="koma stand-koma"></td>
                        </tr>
                        <tr>
                          <td class="koma stand-koma"></td>
                        </tr>
                        <tr>
                          <td class="koma stand-koma"></td>
                        </tr>
                        <tr>
                          <td class="koma stand-koma"></td>
                        </tr>
                        <tr>
                          <td id="avatar-sente" class="stand-koma"></td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>
              </tbody>
            </table>
           <div id="loading">読み込み中…</div>
            <ul id="touch-area">
              <li class="nav touch forward">
                <img class="nav touch button forward">
              </li>
              <li class="nav touch backward">
                <img class="nav touch button backward">
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>
            <!-- 先手情報 -->
            <div id="area_sente"></div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div id="navigation">
    <input class="nav button first" type="button">
    <input class="nav button backward" type="button">
    <input class="nav button forward" type="button">
    <input class="nav button last" type="button">
    <select id="moveBox"></select>
    <img id="reverse_button">
  </div>
  <form id="send-message">
    <input type="text" id="messageBox" />
    <input type="submit" id="chatsubmit" value="chat"/>
    <img src="//image-pona.heroz.jp/kif/chat_on.png" id="commentoffbutton" />
    <input type="hidden" id="chatUser" value="" />
  </form>
  <script type="text/javascript">    
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-23457028-68']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();    
  </script>
    <script>
      function getRequest(){
        if(location.search.length > 1) {
          var get = new Object();
          var ret = location.search.substr(1).split("&");
          for(var i = 0; i < ret.length; i++) {
            var r = ret[i].split("=");
            get[r[0]] = r[1];
          }
          return get;
        } else {
          return false;
        }
      }

      var dispMessage = true;
      var ponanzaMessage = true;
      var enableEffect = true;
      var enableEffectSound = false;
      var fromTweet = false;
      var get = getRequest();
      if(get){
        if(get['p'] == 0)
        {
          //ポナのメッセージをオフ
          ponanzaMessage = false;
        }
        if(get['e'] == 0)
        {
          //エフェクトオフ(作成中)
          enableEffect = false;
        }
        if(get['s'] == 1)
        {
          enableEffectSound = true;
        }
        //tweet buttonから
        if(get['tw']){
          fromTweet=true;
        }
      }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/javascripts/shogi-common.js"></script>
    <script src="/javascripts/kifu.js" charset="UTF-8"></script>
    <script src="/javascripts/query-parse.js" charset="UTF-8"></script>
    <script src="/javascripts/socket_main.js" charset="UTF-8"></script>
    <script>
	  var chatUser = "";
	  if(chatUser == ""){
	   $("#messageBox").css("visibility", "hidden");
	   $("#chatsubmit").css("visibility", "hidden");
	  }
    
      /**
       * サーバから将棋盤初期化時に呼び出す
       */
      function initializeBoard(black, white) {
          // 対戦者の設定
          var bPlayer = $("#area_sente");
          bPlayer.append($("<span>").attr("id", "black-time"));
          bPlayer.append($("<span>").addClass("sign").append("▲"));
          bPlayer.append($("<a>").attr("href", "//shogiwars.heroz.jp/users/" + black.split(" ")[0] + "?game=Rettosei-sunaemon0-20170324_111157&locale=ja").text(black));

          var wPlayer = $("#area_gote");
          wPlayer.append($("<span>").addClass("sign").append("△"));
          wPlayer.append($("<a>").attr("href", "//shogiwars.heroz.jp/users/" + white.split(" ")[0] + "?game=Rettosei-sunaemon0-20170324_111157&locale=ja").text(white));
          wPlayer.append($("<span>").attr("id", "white-time"));

          var csa_text = "N+" + black + "\n" + "N-" + white + "\n";
          makeBoardHandler("shogi", 0, csa_text, true);

          setNavigation();
      }
      // avatarsを見て画像を表示する
      function displayAvatar(reverse){
          var img_sente = $("<img>").attr("src", "//shogiwars.heroz.jp/images/avatar/"+avatars[reverse?1:0]+'-r.png').addClass("avatar");
          var img_gote = $("<img>").attr("src", "//shogiwars.heroz.jp/images/avatar/"+avatars[reverse?0:1]+'-l.png').addClass("avatar");
          $("#avatar-sente").empty().append(img_sente);
          $("#avatar-gote").empty().append(img_gote);
      }
    </script>
    <script>
    var gtype;
    $(function() {
       /**
        * get display size
        */
        //$("body").append("<div>w: " + screen.width + " h: " + screen.height + "</div>");
        //$("body").append("<div>dpr: " + devicePixelRatio + "</div>");
        //$("body").append("<div>user-agent: " + navigator.userAgent + "</div>");

	var gamedata = {
		name: "Rettosei-sunaemon0-20170324_111157",
		avatar0: "_06",
		avatar1: "_f170105a",
		dan0: "5級",
		dan1: "2級",
		gtype: ""
	};
        gtype = gamedata.gtype;
	if (gamedata.name.match(/(\w+)-(\w+)-(\w+)/)) {
            initializeBoard(RegExp.$1 + " "+gamedata.dan0, RegExp.$2 + " "+gamedata.dan1)
            setAvatarName(gamedata.avatar0, gamedata.avatar1);
	}
	if(fromTweet){
		$("#logo_area .wars_logo").wrap("<a href=\"http://shogiwars.heroz.jp\" target=\"_top\"></a>")
	}

        $("#loading").remove();
        $("#send-message").remove();
        receiveMove("+5756FU,L600	-3334FU,L599	+2858HI,L598	-6152KI,L597	+7776FU,L596	-5142OU,L594	+8877KA,L594	-4232OU,L592	+6766FU,L585	-7162GI,L590	+7786KA,L584	-4344FU,L588	+7978GI,L582	-2233KA,L587	+7877GI,L582	-3222OU,L586	+5948OU,L580	-1112KY,L585	+3938GI,L579	-2211OU,L584	+4839OU,L578	-3122GI,L584	+5655FU,L576	-5243KI,L583	+7675FU,L573	-4132KI,L582	+7776GI,L572	-8384FU,L578	+7665GI,L566	-8485FU,L577	+8668KA,L558	-8284HI,L574	+8977KE,L553	-9394FU,L573	+3928OU,L543	-8586FU,L568	+8786FU,L540	-8486HI,L567	+5554FU,L531	-5354FU,L562	+6554GI,L530	-4354KI,L561	+5854HI,L528	-0053FU,L560	+5457HI,L521	-8689RY,L555	+6958KI,L516	-8999RY,L548	+7765KE,L515	-0064GI,L507	+6886KA,L492	-4445FU,L498	+7574FU,L480	-7374FU,L495	+0052KI,L465	-3366KA,L488	+5756HI,L452	-6455GI,L485	+5636HI,L439	-4546FU,L453	+5262KI,L429	-4647TO,L449	+5847KI,L419	-0046FU,L443	+6553NK,L405	-4647TO,L433	+3847GI,L395	-9949RY,L426	+1716FU,L390	-6639UM,L423	+2818OU,L376	-0017KY,L418	+2917KE,L373	-0028KI,L417	GOTE_WIN_CHECKMATE");

        $("#reverse_button").on("click", function(){manager.reverse()});
        
        $("#reverse_button").attr("src", Localize.getImgURL("reverse.png"));
        $("#chatsubmit").attr("value", Localize.t("chat"));
    });
    </script>

    <script type="text/javascript">
      function keyCode(e){
        if(document.all)
          return e.keyCode;
        else if(document.getElementById)
          return (e.keyCode)? e.keyCode: e.charCode;
        else if(document.layers)
          return e.which;
      }

      document.onkeyup = function(e) { keyNavigation(keyCode(e)); };
    </script>

      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</body>

</html>
